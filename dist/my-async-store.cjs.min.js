"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var call=function(e){return e()};function createAsyncStore(){var e=new Map,t=new Set,r=function(t){return t.map(e.has.bind(e)).every(Boolean)};return{wait:function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return new Promise((function(a){var n=!1,o=function(){if(r(e)){if(n)throw new Error("Called More Than One Times!");n=!0,t.delete(o),a()}};o(),n||t.add(o)}))},set:function(r,a){return e.set(r,a)&&t.forEach(call)},get:function(t){return e.get(t)},del:function(t){return e.delete(t)},has:function(t){return e.has(t)},keys:function(){return Array.from(e.keys())},values:function(){return Array.from(e.values())},all:function(){return Array.from(e)},clear:function(){return e.clear()},size:function(){return e.size}}}var globalStoreMap=new Map;function namespace(e){if(globalStoreMap.has(e))return globalStoreMap.get(e);var t=createAsyncStore();return t.namespace=e,globalStoreMap.set(e,t),t}var defaultStore=namespace(Symbol("my-async-store")),set=defaultStore.set,get=defaultStore.get,wait=defaultStore.wait,del=defaultStore.del,has=defaultStore.has,keys=defaultStore.keys,values=defaultStore.values,all=defaultStore.all,clear=defaultStore.clear,size=defaultStore.size;exports.all=all,exports.clear=clear,exports.del=del,exports.get=get,exports.has=has,exports.keys=keys,exports.namespace=namespace,exports.set=set,exports.size=size,exports.values=values,exports.wait=wait;
