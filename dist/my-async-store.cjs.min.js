"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var call=function(e){return e()};function createAsyncStore(){var e=new Map,r=new Set,t=function(r){for(var t=0;t<r.length;t++)if(!e.has(r[t]))return!1;return!0};return{wait:function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return new Promise((function(a){var n=!1,l=function(){if(t(e)){if(n)throw new Error("Called More Than One Times!");n=!0,r.delete(l),a()}};l(),n||r.add(l)}))},set:function(t,a){return e.set(t,a)&&r.forEach(call)},get:function(r){return e.get(r)},del:function(r){return e.delete(r)},has:function(r){return e.has(r)},keys:function(){return Array.from(e.keys())},values:function(){return Array.from(e.values())},all:function(){return Array.from(e)},clear:function(){return e.clear()},size:function(){return e.size},clearDeps:function(){return r.clear()}}}var globalStoreMap=new Map;function namespace(e){if(globalStoreMap.has(e))return globalStoreMap.get(e);var r=createAsyncStore();return r.namespace=e,globalStoreMap.set(e,r),r}var defaultStore=namespace(Symbol("my-async-store")),set=defaultStore.set,get=defaultStore.get,wait=defaultStore.wait,del=defaultStore.del,has=defaultStore.has,keys=defaultStore.keys,values=defaultStore.values,all=defaultStore.all,clear=defaultStore.clear,size=defaultStore.size,clearDeps=defaultStore.clearDeps;exports.all=all,exports.clear=clear,exports.clearDeps=clearDeps,exports.del=del,exports.get=get,exports.has=has,exports.keys=keys,exports.namespace=namespace,exports.set=set,exports.size=size,exports.values=values,exports.wait=wait;
