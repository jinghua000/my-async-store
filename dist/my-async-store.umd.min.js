!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).MyAsyncStore={})}(this,(function(e){"use strict";var n=function(e){return e()};var r=new Map;function t(e){if(r.has(e))return r.get(e);var t,a,o,u=(t=new Map,a=new Set,o=function(e){return e.map(t.has.bind(t)).every(Boolean)},{wait:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise((function(n){var r=!1,t=function(){if(o(e)){if(r)throw new Error("Called More Than One Times!");r=!0,a.delete(t),n()}};t(),r||a.add(t)}))},set:function(e,r){return t.set(e,r)&&a.forEach(n)},get:function(e){return t.get(e)},del:function(e){return t.delete(e)},has:function(e){return t.has(e)},keys:function(){return Array.from(t.keys())},values:function(){return Array.from(t.values())},all:function(){return Array.from(t)},clear:function(){return t.clear()},size:function(){return t.size}});return u.namespace=e,r.set(e,u),u}var a=t(Symbol("my-async-store")),o=a.set,u=a.get,i=a.wait,s=a.del,f=a.has,c=a.keys,l=a.values,d=a.all,y=a.clear,m=a.size;e.all=d,e.clear=y,e.del=s,e.get=u,e.has=f,e.keys=c,e.namespace=t,e.set=o,e.size=m,e.values=l,e.wait=i,Object.defineProperty(e,"__esModule",{value:!0})}));
