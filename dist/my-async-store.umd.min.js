!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).MyAsyncStore={})}(this,(function(e){"use strict";var n=function(e){return e()},t=function(e){return function(n){for(var t=0;t<e.length;t++)if(e[t]===n)return void e.splice(t,1)}};var r=new Map;function o(e){if(r.has(e))return r.get(e);var o=function(){var e=new Map,r=[],o=t(r),i=function(n){return n.map(e.has.bind(e)).every(Boolean)};return{wait:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return new Promise((function(t){var a=!1,u=function(){if(i(n)){if(a)throw new Error("Called More Than One Times!");a=!0,o(u),t(e)}};u(),a||r.push(u)}))},storeMap:e,set:function(t,o){return e.set(t,o)&&[].concat(r).forEach(n)},get:function(n){return e.get(n)},del:function(n){return e.delete(n)},has:function(n){return e.has(n)},clear:function(){return e.clear()},size:function(){return e.size}}}();return o.namespace=e,r.set(e,o),o}var i=o(Symbol("my-async-store")),a=i.set,u=i.get,s=i.wait,f=i.del,c=i.has,l=i.clear,p=i.size,d=i.storeMap;e.clear=l,e.del=f,e.get=u,e.has=c,e.namespace=o,e.set=a,e.size=p,e.storeMap=d,e.wait=s,Object.defineProperty(e,"__esModule",{value:!0})}));
