!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).MyAsyncStore={})}(this,(function(e){"use strict";var n=function(e){return e()},r=function(e){return function(n){for(var r=0;r<e.length;r++)if(e[r]===n)return void e.splice(r,1)}};var t=new Map;function o(e){if(t.has(e))return t.get(e);var o=function(){var e=new Set,t=[],o=r(t),i=function(n){return n.map(e.has.bind(e)).every(Boolean)};return{wait:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise((function(n){var r=!1,a=function(){if(i(e)){if(r)throw new Error("Called More Than One Times!");r=!0,o(a),n()}};a(),r||t.push(a)}))},store:e,add:function(r){return e.add(r)&&t.forEach(n)},del:function(n){return e.delete(n)},has:function(n){return e.has(n)},clear:function(){return e.clear()},size:function(){return e.size}}}();return o.namespace=e,t.set(e,o),o}var i=o(Symbol("my-async-store")),a=i.add,u=i.del,f=i.has,s=i.wait,c=i.clear,d=i.size,l=i.store;e.add=a,e.clear=c,e.del=u,e.has=f,e.namespace=o,e.size=d,e.store=l,e.wait=s,Object.defineProperty(e,"__esModule",{value:!0})}));
